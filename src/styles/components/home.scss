@use "../utils/mixin" as mx;

/* property */
@property --textAngle {
  syntax: "<angle>";
  inherits: true;
  initial-value: 0deg;
}

/* keyframes */
@keyframes textGradient {
  0% {
    --textAngle: 0deg;
  }
  100% {
    --textAngle: 360deg;
  }
}

@keyframes rolling {
  from {
    transform: translate(0);
  }
  to {
    transform: translate(var(--rolling));
  }
}

/* home */
.home {
  @apply bg-white text-gray-800;
}

/* home-hero */
.home-hero {
  @apply pb-lg md:pb-0;
  @apply overflow-hidden;
  @apply h-auto min-h-0 max-h-none md:h-[100vh] md:min-h-[700px] md:max-h-[920px];

  &-wrap {
    @include mx.container;
    @apply flex h-full relative;
  }

  &-con {
    @apply relative z-[3];
    @apply w-full md:w-auto;
    @apply flex flex-col justify-center;
    @apply pt-[400px] sm:pt-[450px] md:pt-0;

    &__title {
      @apply leading-[1.3] font-bold;
      @apply text-2xl xs:text-3xl sm:text-5xl md:text-7xl;
      @apply drop-shadow-[2px_2px_0_rgba(255,255,255,0.7)];

      b {
        text-shadow: none;
        color: transparent;
        background: linear-gradient(
          var(--textAngle),
          rgba(34, 193, 195, 1) 0%,
          rgba(253, 187, 45, 1) 100%
        );
        background-clip: text;
        animation: textGradient 4s linear infinite;
        @apply text-4xl xs:text-5xl sm:text-7xl md:text-8xl;
      }
    }

    &__sub {
      @apply mt-sm mb-md sm:my-md;
      @apply text-xs xs:text-sm sm:text-lg md:text-xl leading-[1.4] break-keep;
    }
  }

  &-imgbox {
    @apply w-full h-full;
    @apply absolute top-0 left-0;
    @apply flex items-center justify-center md:justify-end;
  }

  &-blob {
    @apply absolute top-[100px] right-0 md:top-auto;
    @apply w-[230px] h-[230px] sm:w-[280px] sm:h-[280px] md:w-[450px] md:h-[450px] lg:w-[600px] lg:h-[600px];

    .tk-blob {
      --time: 15s;
      --amount: 3;
    }
  }

  &-blur {
    @apply block absolute z-[2] top-[120px] right-[20px] md:top-auto md:right-10;
    @apply bg-white/30 backdrop-blur-lg shadow-[inset_0_0_16px_#ceedec] rounded-full;
    @apply w-[230px] h-[230px] sm:w-[280px] sm:h-[280px] md:w-[400px] md:h-[400px] lg:w-[500px] lg:h-[500px];
    -webkit-backdrop-filter: blur(16px);
    will-change: backdrop-filter;
  }
}

/* Skills */
.home-skills {
  @apply h-[180px] sm:h-[220px];

  &-wrap {
    @include mx.container;
    @apply h-full;
    @apply px-0 md:px-md;
    @apply relative overflow-hidden;
  }

  &-con {
    @apply w-full h-full;
    @apply flex overflow-hidden;

    &::before,
    &::after {
      content: "";
      @apply h-full w-10 md:w-40;
      @apply absolute top-0 z-10;
      @apply rounded-full blur md:blur-lg;
      @apply bg-gradient-to-r to-white from-white;
    }

    &::before {
      @apply left-0 md:-left-20;
    }
    &::after {
      @apply right-0 md:-right-20;
    }
  }

  &-box {
    @apply gap-md px-lg;
    @apply flex items-center flex-nowrap;
    animation: rolling 30s linear infinite;
  }

  &-logo {
    @apply flex-none;
    @apply p-md w-[140px] h-[100px] md:w-[200px] md:h-[100px];

    img {
      @apply object-contain object-center;
      @apply w-3/4 h-3/4 sm:w-auto sm:h-full;
    }
  }
}

/* About */
.home-about {
  @include mx.container;
  @apply pt-lg pb-moCon sm:py-moCon md:py-con;

  &-con {
    @apply gap-md md:gap-lg;
    @apply relative mx-auto opacity-0;
    @apply flex justify-between items-start flex-col xl:flex-row;
  }

  &-title {
    @apply mb-md sm:mb-lg xl:mb-0;
  }

  &-left {
    @apply flex-none flex flex-col;
    @apply mx-auto gap-sm md:gap-md;
    @apply static z-10 top-[40px] xl:sticky;
    @apply w-full max-w-full sm:max-w-[420px] md:max-w-[500px] xl:w-[400px];
    @apply break-keep text-center text-xs xs:text-sm sm:text-base md:text-lg xl:text-left;

    p {
      text-shadow: 1px 2px #fff;
    }
  }

  &-right {
    @apply relative;
    @apply flex flex-col flex-1;
    @apply text-center sm:text-left;
    @apply max-w-full w-full xl:max-w-[900px];
    @apply mt-lg gap-md md:mt-moCon md:gap-lg;

    &::before,
    &::after {
      content: "";
      @apply absolute w-0 h-0;
      @apply transition duration-700;
      @apply inline-block rounded-full opacity-0;
    }

    &::before {
      @apply p-[20%];
      @apply bg-main;
      @apply -bottom-5 -left-2 2xl:-left-60;
    }

    &::after {
      @apply p-[15%];
      @apply bg-sub;
      @apply -top-5 -right-2 2xl:-right-20;
    }

    &-box {
      @apply z-10;
      @apply flex items-start;
      @apply sticky top-[20px] md:top-[40px];
      @apply transition-all backdrop-blur-lg;
      @apply gap-md px-sm py-md xs:p-md md:p-lg;
      @apply bg-white/80 border-2 border-solid border-contentLine rounded-lg;
      -webkit-backdrop-filter: blur(16px);
      will-change: backdrop-filter;
    }

    &__num {
      @apply mr-lg mt-[-1px];
    }

    &__title,
    &__num {
      @apply font-semibold flex-none;
    }

    &__title {
      @apply text-sm xs:text-base sm:text-xl md:text-lg;
    }

    &__num {
      @apply text-xl hidden md:inline-block;
    }

    &__list {
      @apply flex flex-col flex-1 gap-xs;
    }

    &__item {
      @apply py-1;
      @apply border-b border-solid border-gray-200;
      @apply text-gray-600 text-xs xs:text-sm md:text-base;
      @apply flex justify-between flex-col-reverse sm:flex-row;

      &:last-of-type {
        @apply border-0;
      }
    }
  }

  &-con.active {
    .home-about-right {
      &::before,
      &::after {
        @apply delay-500;
        @apply opacity-100;
      }
    }
  }
}

/* work */
.home-work {
  @apply bg-dark;
  @apply w-full h-auto;
  @apply overflow-hidden;

  &-scroller-dummy {
    @include mx.container;
  }

  &-scroller {
    @apply flex;
    @apply w-full h-svh;
  }

  &-con {
    @apply w-full h-full;
  }

  &-wrap {
    @apply flex;
    @apply w-fit min-w-full h-full;
  }

  &-hero {
    @apply flex flex-col;
    @apply w-[200px] md:w-[320px] lg:w-[430px];
    @apply pt-con mr-sm xs:mr-md sm:mr-lg md:mr-moCon lg:mr-con;

    &__title {
      @apply text-white mb-md;
    }

    &__sub {
      @apply text-gray-300 break-keep text-xs xs:text-sm sm:text-base md:text-xl;
    }
  }

  &-list {
    @apply flex items-center;
    @apply gap-lg h-full py-con pr-0 pl-sm xs:pl-md sm:pl-lg md:pl-con;

    &::after {
      content: "";
      @apply inline-block;
      @apply w-[10vw] lg:w-[40px] h-full;
    }

    @include mx.md("h-md") {
      @apply py-moCon;
    }

    @include mx.md("h-sm") {
      @apply py-10;
    }
  }

  &-item {
    @apply w-[calc(100vw-20px)] h-full md:w-[50vw];

    &__link {
      @apply flex flex-col justify-end;
      @apply relative w-full h-full p-md sm:p-lg;

      img {
        @apply left-[1px] top-[1px] object-cover #{!important};
        @apply w-[calc(100%-2px)] h-[calc(100%-2px)] rounded-2xl #{!important};
      }

      &::after,
      &::before {
        content: "";
        @apply absolute top-0 left-0;
        @apply inline-block w-full h-full;
      }

      &::after {
        @apply bg-gradient-to-t from-dark;
      }

      &::before {
        @apply transition-all rounded-2xl z-[2];
        @apply border-2 border-solid border-dark;
      }

      &:hover {
        &::before {
          @apply border-main;
        }
      }
    }

    &__title,
    &__sub,
    &__box {
      @apply relative z-[2];
    }

    &__title {
      @apply pb-sm;
      @apply border-b border-solid border-gray-300;
      @apply font-bold text-white text-xl xs:text-2xl sm:text-3xl md:text-4xl;
    }

    &__sub {
      @apply h-[48px] mt-xs;
      @apply text-gray-200 text-xs xs:text-sm sm:text-lg md:text-xl;
    }

    &__box {
      @apply flex mt-md gap-sm;
      @apply text-xs xs:text-sm sm:text-base;

      span {
        @apply py-xs px-sm;
        @apply leading-[1] text-gray-300;
        @apply border border-solid rounded-full;
      }
    }
  }
}

.home-work-scroller.iphone {
  @apply h-auto;

  .home-work-wrap,
  .home-work-list {
    @apply flex-col;
  }

  .home-work-hero {
    @apply w-full ml-0;
    @apply text-center;
  }

  .home-work-list {
    @apply pl-0 pt-14;
  }

  .home-work-item {
    @apply w-full h-[50dvh];
  }
}

/* contact */
.home-contact {
  @apply relative;
  @apply pb-0 pt-moCon sm:py-moCon md:py-con;

  &-title {
    @apply text-center relative z-[2];
  }

  &-wave {
    @apply w-full h-2/3;
    @apply absolute -bottom-[140px] left-0;
    @apply bg-[url("/images/wave.svg")] bg-cover bg-no-repeat;
  }

  &-con {
    @apply flex relative z-[2];
    @apply bg-white/50 backdrop-blur overflow-hidden;
    @apply border-2 border-solid border-contentLine rounded-xl;
    @apply max-w-xl mx-auto mt-lg w-[calc(100%-40px)] md:mt-moCon;
    -webkit-backdrop-filter: blur(12px);
    will-change: backdrop-filter;
  }

  &-form {
    @apply flex flex-col flex-1;
    @apply gap-4 py-lg px-sm xs:px-md md:px-lg;
    @apply overflow-hidden text-sm sm:text-base;

    input,
    textarea {
      @apply bg-white rounded;
      @apply w-full min-h-[42px] mt-2 p-sm;
      @apply border border-solid border-borderLine;

      &:focus {
        @apply outline-main;
      }
    }

    textarea {
      @apply h-[120px] resize-none;
    }

    button {
      @apply bg-dark;
      @apply text-white;
      @apply p-sm transition-all;
      @apply border border-solid rounded;

      &:hover {
        @apply bg-main;
      }
    }
  }
}
